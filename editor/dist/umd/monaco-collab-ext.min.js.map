{"version":3,"file":"monaco-collab-ext.min.js","sources":["monaco-collab-ext.js"],"sourcesContent":["/**!\nÂ© 2019 Convergence Labs, Inc.\n@version 0.3.2\n@license MIT\n*/\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"monaco-editor\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"MonacoCollabExt\", [\"vs/editor/editor.main\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MonacoCollabExt\"] = factory(require(\"monaco-editor\"));\n\telse\n\t\troot[\"MonacoCollabExt\"] = factory(root[\"monaco\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nexports.__esModule = true;\n/**\n * A helper class to aid in input validation.\n *\n * @internal\n */\nvar Validation = /** @class */ (function () {\n    function Validation() {\n    }\n    Validation.assertString = function (val, name) {\n        if (typeof val !== \"string\") {\n            throw new Error(name + \" must be a string but was: \" + val);\n        }\n    };\n    Validation.assertNumber = function (val, name) {\n        if (typeof val !== \"number\") {\n            throw new Error(name + \" must be a number but was: \" + val);\n        }\n    };\n    Validation.assertDefined = function (val, name) {\n        if (val === undefined || val === null) {\n            throw new Error(name + \" must be a defined but was: \" + val);\n        }\n    };\n    Validation.assertFunction = function (val, name) {\n        if (typeof val !== \"function\") {\n            throw new Error(name + \" must be a function but was: \" + typeof val);\n        }\n    };\n    Validation.assertPosition = function (val, name) {\n        Validation.assertDefined(val, name);\n        if (typeof val.lineNumber !== \"number\" || typeof val.column !== \"number\") {\n            throw new Error(name + \" must be an Object like {lineNumber: number, column: number}: \" + JSON.stringify(val));\n        }\n    };\n    return Validation;\n}());\nexports.Validation = Validation;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar monaco = __webpack_require__(1);\nvar Validation_1 = __webpack_require__(0);\n/**\n * The EditorContentManager facilitates listening to local content changes and\n * the playback of remote content changes into the editor.\n */\nvar EditorContentManager = /** @class */ (function () {\n    /**\n     * Constructs a new EditorContentManager using the supplied options.\n     *\n     * @param options\n     *   The options that configure the EditorContentManager.\n     */\n    function EditorContentManager(options) {\n        var _this = this;\n        /**\n         * A helper method to process local changes from Monaco.\n         *\n         * @param e\n         *   The event to process.\n         * @private\n         * @internal\n         */\n        this._onContentChanged = function (e) {\n            if (!_this._suppress) {\n                e.changes.forEach(function (change) { return _this._processChange(change); });\n            }\n        };\n        this._options = __assign(__assign({}, EditorContentManager._DEFAULTS), options);\n        Validation_1.Validation.assertDefined(this._options, \"options\");\n        Validation_1.Validation.assertDefined(this._options.editor, \"options.editor\");\n        Validation_1.Validation.assertFunction(this._options.onInsert, \"options.onInsert\");\n        Validation_1.Validation.assertFunction(this._options.onReplace, \"options.onReplace\");\n        Validation_1.Validation.assertFunction(this._options.onDelete, \"options.onDelete\");\n        this._disposer = this._options.editor.onDidChangeModelContent(this._onContentChanged);\n    }\n    /**\n     * Inserts text into the editor.\n     *\n     * @param index\n     *   The index to insert text at.\n     * @param text\n     *   The text to insert.\n     */\n    EditorContentManager.prototype.insert = function (index, text) {\n        this._suppress = true;\n        var _a = this._options, ed = _a.editor, remoteSourceId = _a.remoteSourceId;\n        var position = ed.getModel().getPositionAt(index);\n        ed.executeEdits(remoteSourceId, [{\n                range: new monaco.Range(position.lineNumber, position.column, position.lineNumber, position.column),\n                text: text,\n                forceMoveMarkers: true\n            }]);\n        this._suppress = false;\n    };\n    /**\n     * Replaces text in the editor.\n     *\n     * @param index\n     *   The start index of the range to replace.\n     * @param length\n     *   The length of the  range to replace.\n     * @param text\n     *   The text to insert.\n     */\n    EditorContentManager.prototype.replace = function (index, length, text) {\n        this._suppress = true;\n        var _a = this._options, ed = _a.editor, remoteSourceId = _a.remoteSourceId;\n        var start = ed.getModel().getPositionAt(index);\n        var end = ed.getModel().getPositionAt(index + length);\n        ed.executeEdits(remoteSourceId, [{\n                range: new monaco.Range(start.lineNumber, start.column, end.lineNumber, end.column),\n                text: text,\n                forceMoveMarkers: true\n            }]);\n        this._suppress = false;\n    };\n    /**\n     * Deletes text in the editor.\n     *\n     * @param index\n     *   The start index of the range to remove.\n     * @param length\n     *   The length of the  range to remove.\n     */\n    EditorContentManager.prototype[\"delete\"] = function (index, length) {\n        this._suppress = true;\n        var _a = this._options, ed = _a.editor, remoteSourceId = _a.remoteSourceId;\n        var start = ed.getModel().getPositionAt(index);\n        var end = ed.getModel().getPositionAt(index + length);\n        ed.executeEdits(remoteSourceId, [{\n                range: new monaco.Range(start.lineNumber, start.column, end.lineNumber, end.column),\n                text: \"\",\n                forceMoveMarkers: true\n            }]);\n        this._suppress = false;\n    };\n    /**\n     * Disposes of the content manager, freeing any resources.\n     */\n    EditorContentManager.prototype.dispose = function () {\n        this._disposer.dispose();\n    };\n    /**\n     * A helper method to process a single content change.\n     *\n     * @param change\n     *   The change to process.\n     * @private\n     * @internal\n     */\n    EditorContentManager.prototype._processChange = function (change) {\n        Validation_1.Validation.assertDefined(change, \"change\");\n        var rangeOffset = change.rangeOffset, rangeLength = change.rangeLength, text = change.text;\n        if (text.length > 0 && rangeLength === 0) {\n            this._options.onInsert(rangeOffset, text);\n        }\n        else if (text.length > 0 && rangeLength > 0) {\n            this._options.onReplace(rangeOffset, rangeLength, text);\n        }\n        else if (text.length === 0 && rangeLength > 0) {\n            this._options.onDelete(rangeOffset, rangeLength);\n        }\n        else {\n            throw new Error(\"Unexpected change: \" + JSON.stringify(change));\n        }\n    };\n    /**\n     * Option defaults.\n     *\n     * @internal\n     */\n    EditorContentManager._DEFAULTS = {\n        onInsert: function () {\n            // no-op\n        },\n        onReplace: function () {\n            // no-op\n        },\n        onDelete: function () {\n            // no-op\n        },\n        remoteSourceId: \"remote\"\n    };\n    return EditorContentManager;\n}());\nexports.EditorContentManager = EditorContentManager;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(4));\n__export(__webpack_require__(7));\n__export(__webpack_require__(2));\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar RemoteCursor_1 = __webpack_require__(5);\nvar RemoteCursorWidget_1 = __webpack_require__(6);\nvar Validation_1 = __webpack_require__(0);\n/**\n * The RemoteCursorManager class is responsible for creating and managing a\n * set of indicators that show where remote users's cursors are located when\n * using Monaco in a collaborative editing context.  The RemoteCursorManager\n * leverages Monaco's Content Widget concept.\n */\nvar RemoteCursorManager = /** @class */ (function () {\n    /**\n     * Creates a new RemoteCursorManager with the supplied options.\n     *\n     * @param options\n     *   The options that will configure the RemoteCursorManager behavior.\n     */\n    function RemoteCursorManager(options) {\n        if (typeof options !== \"object\") {\n            throw new Error(\"'options' is a required parameter and must be an object.\");\n        }\n        // Override the defaults.\n        options = __assign(__assign({}, RemoteCursorManager.DEFAULT_OPTIONS), options);\n        if (options.editor === undefined || options.editor === null) {\n            throw new Error(\"options.editor must be defined but was: \" + options.editor);\n        }\n        this._options = options;\n        this._cursorWidgets = new Map();\n        this._nextWidgetId = 0;\n    }\n    /**\n     * Adds a new remote cursor to the editor.\n     *\n     * @param id\n     *   A unique id that will be used to reference this cursor.\n     * @param color\n     *   The css color that the cursor and tooltip should be rendered in.\n     * @param label\n     *   An optional label for the tooltip. If tooltips are enabled.\n     *\n     * @returns\n     *   The remote cursor widget that will be added to the editor.\n     */\n    RemoteCursorManager.prototype.addCursor = function (id, color, label) {\n        var _this = this;\n        Validation_1.Validation.assertString(id, \"id\");\n        Validation_1.Validation.assertString(color, \"color\");\n        if (this._options.tooltips && typeof \"label\" !== \"string\") {\n            throw new Error(\"'label' is required when tooltips are enabled.\");\n        }\n        var widgetId = \"\" + this._nextWidgetId++;\n        var tooltipDurationMs = this._options.tooltipDuration * 1000;\n        var cursorWidget = new RemoteCursorWidget_1.RemoteCursorWidget(this._options.editor, widgetId, color, label, this._options.tooltips, tooltipDurationMs, function () { return _this.removeCursor(id); });\n        this._cursorWidgets.set(id, cursorWidget);\n        return new RemoteCursor_1.RemoteCursor(cursorWidget);\n    };\n    /**\n     * Removes the remote cursor from the editor.\n     *\n     * @param id\n     *   The unique id of the cursor to remove.\n     */\n    RemoteCursorManager.prototype.removeCursor = function (id) {\n        Validation_1.Validation.assertString(id, \"id\");\n        var remoteCursorWidget = this._getCursor(id);\n        if (!remoteCursorWidget.isDisposed()) {\n            remoteCursorWidget.dispose();\n        }\n        this._cursorWidgets[\"delete\"](id);\n    };\n    /**\n     * Updates the location of the specified remote cursor using a Monaco\n     * IPosition object..\n     *\n     * @param id\n     *   The unique id of the cursor to remove.\n     * @param position\n     *   The location of the cursor to set.\n     */\n    RemoteCursorManager.prototype.setCursorPosition = function (id, position) {\n        Validation_1.Validation.assertString(id, \"id\");\n        var remoteCursorWidget = this._getCursor(id);\n        remoteCursorWidget.setPosition(position);\n    };\n    /**\n     * Updates the location of the specified remote cursor based on a zero-based\n     * text offset.\n     *\n     * @param id\n     *   The unique id of the cursor to remove.\n     * @param offset\n     *   The location of the cursor to set.\n     */\n    RemoteCursorManager.prototype.setCursorOffset = function (id, offset) {\n        Validation_1.Validation.assertString(id, \"id\");\n        var remoteCursorWidget = this._getCursor(id);\n        remoteCursorWidget.setOffset(offset);\n    };\n    /**\n     * Shows the specified cursor. Note the cursor may be scrolled out of view.\n     *\n     * @param id\n     *   The unique id of the cursor to show.\n     */\n    RemoteCursorManager.prototype.showCursor = function (id) {\n        Validation_1.Validation.assertString(id, \"id\");\n        var remoteCursorWidget = this._getCursor(id);\n        remoteCursorWidget.show();\n    };\n    /**\n     * Hides the specified cursor.\n     *\n     * @param id\n     *   The unique id of the cursor to show.\n     */\n    RemoteCursorManager.prototype.hideCursor = function (id) {\n        Validation_1.Validation.assertString(id, \"id\");\n        var remoteCursorWidget = this._getCursor(id);\n        remoteCursorWidget.hide();\n    };\n    /**\n     * A helper method that gets a cursor by id, or throws an exception.\n     * @internal\n     */\n    RemoteCursorManager.prototype._getCursor = function (id) {\n        if (!this._cursorWidgets.has(id)) {\n            throw new Error(\"No such cursor: \" + id);\n        }\n        return this._cursorWidgets.get(id);\n    };\n    /**\n     * The default values for optional parameters.\n     * @internal\n     */\n    RemoteCursorManager.DEFAULT_OPTIONS = { tooltips: true, tooltipDuration: 1 };\n    return RemoteCursorManager;\n}());\nexports.RemoteCursorManager = RemoteCursorManager;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nexports.__esModule = true;\n/**\n * The RemoteCursor class represents a remote cursor in the MonacoEditor. This\n * class allows you to control the location and visibility of the cursor.\n */\nvar RemoteCursor = /** @class */ (function () {\n    /**\n     * Creates a new RemoteCursor.\n     *\n     * @param delegate\n     *   The underlying Monaco Editor widget.\n     * @internal\n     * @hidden\n     */\n    function RemoteCursor(delegate) {\n        this._delegate = delegate;\n    }\n    /**\n     * Gets the unique id of this cursor.\n     *\n     * @returns\n     *   The unique id of this cursor.\n     */\n    RemoteCursor.prototype.getId = function () {\n        return this._delegate.getId();\n    };\n    /**\n     * Gets the position of the cursor.\n     *\n     * @returns\n     *   The position of the cursor.\n     */\n    RemoteCursor.prototype.getPosition = function () {\n        return this._delegate.getPosition().position;\n    };\n    /**\n     * Sets the location of the cursor based on a Monaco Editor IPosition.\n     *\n     * @param position\n     *   The line / column position of the cursor.\n     */\n    RemoteCursor.prototype.setPosition = function (position) {\n        this._delegate.setPosition(position);\n    };\n    /**\n     * Sets the location of the cursor using a zero-based text offset.\n     *\n     * @param offset\n     *   The offset of the cursor.\n     */\n    RemoteCursor.prototype.setOffset = function (offset) {\n        this._delegate.setOffset(offset);\n    };\n    /**\n     * Shows the cursor if it is hidden.\n     */\n    RemoteCursor.prototype.show = function () {\n        this._delegate.show();\n    };\n    /**\n     * Hides the cursor if it is shown.\n     */\n    RemoteCursor.prototype.hide = function () {\n        this._delegate.hide();\n    };\n    /**\n     * Determines if the cursor has already been disposed. A cursor is disposed\n     * when it has been permanently removed from the editor.\n     *\n     * @returns\n     *   True if the cursor has been disposed, false otherwise.\n     */\n    RemoteCursor.prototype.isDisposed = function () {\n        return this._delegate.isDisposed();\n    };\n    /**\n     * Disposes of this cursor, removing it from the editor.\n     */\n    RemoteCursor.prototype.dispose = function () {\n        this._delegate.dispose();\n    };\n    return RemoteCursor;\n}());\nexports.RemoteCursor = RemoteCursor;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar monaco_editor_1 = __webpack_require__(1);\nvar EditorContentManager_1 = __webpack_require__(2);\nvar Validation_1 = __webpack_require__(0);\nfunction getConfiguration(editorInstance) {\n    // Support for Monaco < 0.19.0\n    if (typeof editorInstance.getConfiguration === \"function\") {\n        return editorInstance.getConfiguration();\n    }\n    return {\n        lineHeight: editorInstance.getOption(monaco_editor_1.editor.EditorOption.lineHeight)\n    };\n}\n/**\n * This class implements a Monaco Content Widget to render a remote user's\n * cursor, and an optional tooltip.\n *\n * @internal\n */\nvar RemoteCursorWidget = /** @class */ (function () {\n    function RemoteCursorWidget(codeEditor, widgetId, color, label, tooltipEnabled, tooltipDuration, onDisposed) {\n        var _this = this;\n        this._onInsert = function (index, text) {\n            if (_this._position === null) {\n                return;\n            }\n            var offset = _this._offset;\n            if (index <= offset) {\n                var newOffset = offset + text.length;\n                var position = _this._editor.getModel().getPositionAt(newOffset);\n                _this._updatePosition(position);\n            }\n        };\n        this._onReplace = function (index, length, text) {\n            if (_this._position === null) {\n                return;\n            }\n            var offset = _this._offset;\n            if (index <= offset) {\n                var newOffset = (offset - Math.min(offset - index, length)) + text.length;\n                var position = _this._editor.getModel().getPositionAt(newOffset);\n                _this._updatePosition(position);\n            }\n        };\n        this._onDelete = function (index, length) {\n            if (_this._position === null) {\n                return;\n            }\n            var offset = _this._offset;\n            if (index <= offset) {\n                var newOffset = offset - Math.min(offset - index, length);\n                var position = _this._editor.getModel().getPositionAt(newOffset);\n                _this._updatePosition(position);\n            }\n        };\n        this._editor = codeEditor;\n        this._tooltipDuration = tooltipDuration;\n        this._id = \"monaco-remote-cursor-\" + widgetId;\n        this._onDisposed = onDisposed;\n        // Create the main node for the cursor element.\n        var lineHeight = getConfiguration(this._editor).lineHeight;\n        this._domNode = document.createElement(\"div\");\n        this._domNode.className = \"monaco-remote-cursor\";\n        this._domNode.style.background = color;\n        this._domNode.style.height = lineHeight + \"px\";\n        // Create the tooltip element if the tooltip is enabled.\n        if (tooltipEnabled) {\n            this._tooltipNode = document.createElement(\"div\");\n            this._tooltipNode.className = \"monaco-remote-cursor-tooltip\";\n            this._tooltipNode.style.background = color;\n            this._tooltipNode.innerHTML = label;\n            this._domNode.appendChild(this._tooltipNode);\n            // we only need to listen to scroll positions to update the\n            // tooltip location on scrolling.\n            this._scrollListener = this._editor.onDidScrollChange(function () {\n                _this._updateTooltipPosition();\n            });\n        }\n        else {\n            this._tooltipNode = null;\n            this._scrollListener = null;\n        }\n        this._contentManager = new EditorContentManager_1.EditorContentManager({\n            editor: this._editor,\n            onInsert: this._onInsert,\n            onReplace: this._onReplace,\n            onDelete: this._onDelete\n        });\n        this._hideTimer = null;\n        this._editor.addContentWidget(this);\n        this._offset = -1;\n        this._disposed = false;\n    }\n    RemoteCursorWidget.prototype.hide = function () {\n        this._domNode.style.display = \"none\";\n    };\n    RemoteCursorWidget.prototype.show = function () {\n        this._domNode.style.display = \"inherit\";\n    };\n    RemoteCursorWidget.prototype.setOffset = function (offset) {\n        Validation_1.Validation.assertNumber(offset, \"offset\");\n        var position = this._editor.getModel().getPositionAt(offset);\n        this.setPosition(position);\n    };\n    RemoteCursorWidget.prototype.setPosition = function (position) {\n        var _this = this;\n        Validation_1.Validation.assertPosition(position, \"position\");\n        this._updatePosition(position);\n        if (this._tooltipNode !== null) {\n            setTimeout(function () { return _this._showTooltip(); }, 0);\n        }\n    };\n    RemoteCursorWidget.prototype.isDisposed = function () {\n        return this._disposed;\n    };\n    RemoteCursorWidget.prototype.dispose = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._editor.removeContentWidget(this);\n        if (this._scrollListener !== null) {\n            this._scrollListener.dispose();\n        }\n        this._contentManager.dispose();\n        this._disposed = true;\n        this._onDisposed();\n    };\n    RemoteCursorWidget.prototype.getId = function () {\n        return this._id;\n    };\n    RemoteCursorWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    RemoteCursorWidget.prototype.getPosition = function () {\n        return this._position;\n    };\n    RemoteCursorWidget.prototype._updatePosition = function (position) {\n        this._position = {\n            position: __assign({}, position),\n            preference: [monaco_editor_1.editor.ContentWidgetPositionPreference.EXACT]\n        };\n        this._offset = this._editor.getModel().getOffsetAt(position);\n        this._editor.layoutContentWidget(this);\n    };\n    RemoteCursorWidget.prototype._showTooltip = function () {\n        var _this = this;\n        this._updateTooltipPosition();\n        if (this._hideTimer !== null) {\n            clearTimeout(this._hideTimer);\n        }\n        else {\n            this._setTooltipVisible(true);\n        }\n        this._hideTimer = setTimeout(function () {\n            _this._setTooltipVisible(false);\n            _this._hideTimer = null;\n        }, this._tooltipDuration);\n    };\n    RemoteCursorWidget.prototype._updateTooltipPosition = function () {\n        var distanceFromTop = this._domNode.offsetTop - this._editor.getScrollTop();\n        if (distanceFromTop - this._tooltipNode.offsetHeight < 5) {\n            this._tooltipNode.style.top = this._tooltipNode.offsetHeight + 2 + \"px\";\n        }\n        else {\n            this._tooltipNode.style.top = \"-\" + this._tooltipNode.offsetHeight + \"px\";\n        }\n        this._tooltipNode.style.left = \"0\";\n    };\n    RemoteCursorWidget.prototype._setTooltipVisible = function (visible) {\n        if (visible) {\n            this._tooltipNode.style.opacity = \"1.0\";\n        }\n        else {\n            this._tooltipNode.style.opacity = \"0\";\n        }\n    };\n    return RemoteCursorWidget;\n}());\nexports.RemoteCursorWidget = RemoteCursorWidget;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nexports.__esModule = true;\nvar RemoteSelection_1 = __webpack_require__(8);\nvar Validation_1 = __webpack_require__(0);\n/**\n * The RemoteSelectionManager renders remote users selections into the Monaco\n * editor using the editor's built-in decorators mechanism.\n */\nvar RemoteSelectionManager = /** @class */ (function () {\n    /**\n     * Creates a new RemoteSelectionManager with the specified options.\n     *\n     * @param options\n     *   Ths options that configure the RemoteSelectionManager.\n     */\n    function RemoteSelectionManager(options) {\n        Validation_1.Validation.assertDefined(options, \"options\");\n        this._remoteSelections = new Map();\n        this._options = options;\n        this._nextClassId = 0;\n    }\n    /**\n     * Adds a new remote selection with a unique id and the specified color.\n     *\n     * @param id\n     *   The unique id of the selection.\n     * @param color\n     *   The color to render the selection with.\n     */\n    RemoteSelectionManager.prototype.addSelection = function (id, color, label) {\n        var _this = this;\n        var onDisposed = function () {\n            _this.removeSelection(id);\n        };\n        var selection = new RemoteSelection_1.RemoteSelection(this._options.editor, id, this._nextClassId++, color, label, onDisposed);\n        this._remoteSelections.set(id, selection);\n        return selection;\n    };\n    /**\n     * Removes an existing remote selection from the editor.\n     *\n     * @param id\n     *   The unique id of the selection.\n     */\n    RemoteSelectionManager.prototype.removeSelection = function (id) {\n        var remoteSelection = this._getSelection(id);\n        if (!remoteSelection.isDisposed()) {\n            remoteSelection.dispose();\n        }\n    };\n    /**\n     * Sets the selection using zero-based text offset locations.\n     *\n     * @param id\n     *   The unique id of the selection.\n     * @param start\n     *   The starting offset of the selection.\n     * @param end\n     *   The ending offset of the selection.\n     */\n    RemoteSelectionManager.prototype.setSelectionOffsets = function (id, start, end) {\n        var remoteSelection = this._getSelection(id);\n        remoteSelection.setOffsets(start, end);\n    };\n    /**\n     * Sets the selection using the Monaco Editor's IPosition (line numbers and columns)\n     * location concept.\n     *\n     * @param id\n     *   The unique id of the selection.\n     * @param start\n     *   The starting position of the selection.\n     * @param end\n     *   The ending position of the selection.\n     */\n    RemoteSelectionManager.prototype.setSelectionPositions = function (id, start, end) {\n        var remoteSelection = this._getSelection(id);\n        remoteSelection.setPositions(start, end);\n    };\n    /**\n     * Shows the specified selection, if it is currently hidden.\n     *\n     * @param id\n     *   The unique id of the selection.\n     */\n    RemoteSelectionManager.prototype.showSelection = function (id) {\n        var remoteSelection = this._getSelection(id);\n        remoteSelection.show();\n    };\n    /**\n     * Hides the specified selection, if it is currently shown.\n     *\n     * @param id\n     *   The unique id of the selection.\n     */\n    RemoteSelectionManager.prototype.hideSelection = function (id) {\n        var remoteSelection = this._getSelection(id);\n        remoteSelection.hide();\n    };\n    /**\n     * A helper method that gets a cursor by id, or throws an exception.\n     * @internal\n     */\n    RemoteSelectionManager.prototype._getSelection = function (id) {\n        if (!this._remoteSelections.has(id)) {\n            throw new Error(\"No such selection: \" + id);\n        }\n        return this._remoteSelections.get(id);\n    };\n    return RemoteSelectionManager;\n}());\nexports.RemoteSelectionManager = RemoteSelectionManager;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar monaco = __webpack_require__(1);\nvar Validation_1 = __webpack_require__(0);\nvar RemoteSelection = /** @class */ (function () {\n    /**\n     * Constructs a new remote selection.\n     *\n     * @internal\n     */\n    function RemoteSelection(codeEditor, id, classId, color, label, onDisposed) {\n        this._editor = codeEditor;\n        this._id = id;\n        var uniqueClassId = \"monaco-remote-selection-\" + classId;\n        this._className = \"monaco-remote-selection \" + uniqueClassId;\n        this._styleElement = RemoteSelection._addDynamicStyleElement(uniqueClassId, color);\n        this._label = label;\n        this._decorations = [];\n        this._onDisposed = onDisposed;\n    }\n    /**\n     * A helper method to add a style tag to the head of the document that will\n     * style the color of the selection. The Monaco Editor only allows setting\n     * the class name of decorations, so we can not set a style property directly.\n     * This method will create, add, and return the style tag for this element.\n     *\n     * @param className\n     *   The className to use as the css selector.\n     * @param color\n     *   The color to set for the selection.\n     * @returns\n     *   The style element that was added to the document head.\n     *\n     * @private\n     * @internal\n     */\n    RemoteSelection._addDynamicStyleElement = function (className, color) {\n        Validation_1.Validation.assertString(className, \"className\");\n        Validation_1.Validation.assertString(color, \"color\");\n        var css = (\".\" + className + \" {\\n         background-color: \" + color + \";\\n       }\").trim();\n        var styleElement = document.createElement(\"style\");\n        styleElement.innerText = css;\n        document.head.appendChild(styleElement);\n        return styleElement;\n    };\n    /**\n     * A helper method to ensure the start position is before the end position.\n     *\n     * @param start\n     *   The current start position.\n     * @param end\n     *   The current end position.\n     * @return\n     *   An object containing the correctly ordered start and end positions.\n     *\n     * @private\n     * @internal\n     */\n    RemoteSelection._swapIfNeeded = function (start, end) {\n        if (start.lineNumber < end.lineNumber || (start.lineNumber === end.lineNumber && start.column <= end.column)) {\n            return { start: start, end: end };\n        }\n        else {\n            return { start: end, end: start };\n        }\n    };\n    /**\n     * Gets the userland id of this selection.\n     */\n    RemoteSelection.prototype.getId = function () {\n        return this._id;\n    };\n    /**\n     * Gets the start position of the selection.\n     *\n     * @returns\n     *   The start position of the selection.\n     */\n    RemoteSelection.prototype.getStartPosition = function () {\n        return __assign({}, this._startPosition);\n    };\n    /**\n     * Gets the start position of the selection.\n     *\n     * @returns\n     *   The start position of the selection.\n     */\n    RemoteSelection.prototype.getEndPosition = function () {\n        return __assign({}, this._endPosition);\n    };\n    /**\n     * Sets the selection using zero-based text indices.\n     *\n     * @param start\n     *   The start offset to set the selection to.\n     * @param end\n     *   The end offset to set the selection to.\n     */\n    RemoteSelection.prototype.setOffsets = function (start, end) {\n        var startPosition = this._editor.getModel().getPositionAt(start);\n        var endPosition = this._editor.getModel().getPositionAt(end);\n        this.setPositions(startPosition, endPosition);\n    };\n    /**\n     * Sets the selection using Monaco's line-number / column coordinate system.\n     *\n     * @param start\n     *   The start position to set the selection to.\n     * @param end\n     *   The end position to set the selection to.\n     */\n    RemoteSelection.prototype.setPositions = function (start, end) {\n        // this._decorations = this._editor.deltaDecorations(this._decorations, []);\n        var ordered = RemoteSelection._swapIfNeeded(start, end);\n        this._startPosition = ordered.start;\n        this._endPosition = ordered.end;\n        this._render();\n    };\n    /**\n     * Makes the selection visible if it is hidden.\n     */\n    RemoteSelection.prototype.show = function () {\n        this._render();\n    };\n    /**\n     * Makes the selection hidden if it is visible.\n     */\n    RemoteSelection.prototype.hide = function () {\n        this._decorations = this._editor.deltaDecorations(this._decorations, []);\n    };\n    /**\n     * Determines if the selection has been permanently removed from the editor.\n     *\n     * @returns\n     *   True if the selection has been disposed, false otherwise.\n     */\n    RemoteSelection.prototype.isDisposed = function () {\n        return this._disposed;\n    };\n    /**\n     * Permanently removes the selection from the editor.\n     */\n    RemoteSelection.prototype.dispose = function () {\n        if (!this._disposed) {\n            this._styleElement.parentElement.removeChild(this._styleElement);\n            this.hide();\n            this._disposed = true;\n            this._onDisposed();\n        }\n    };\n    /**\n     * A helper method that actually renders the selection as a decoration within\n     * the Monaco Editor.\n     *\n     * @private\n     * @internal\n     */\n    RemoteSelection.prototype._render = function () {\n        this._decorations = this._editor.deltaDecorations(this._decorations, [\n            {\n                range: new monaco.Range(this._startPosition.lineNumber, this._startPosition.column, this._endPosition.lineNumber, this._endPosition.column),\n                options: {\n                    className: this._className,\n                    hoverMessage: this._label != null ? {\n                        value: this._label\n                    } : null\n                }\n            }\n        ]);\n    };\n    return RemoteSelection;\n}());\nexports.RemoteSelection = RemoteSelection;\n\n\n/***/ })\n/******/ ]);\n});"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","m","modules","__esModule","Validation","assertString","val","name","Error","assertNumber","assertDefined","assertFunction","assertPosition","lineNumber","column","JSON","stringify","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","monaco","Validation_1","EditorContentManager","insert","index","text","_suppress","_a","_options","ed","editor","remoteSourceId","position","getModel","getPositionAt","executeEdits","range","Range","forceMoveMarkers","replace","start","end","dispose","_disposer","_processChange","change","rangeOffset","rangeLength","onInsert","onReplace","onDelete","_DEFAULTS","options","_this","_onContentChanged","e","changes","forEach","onDidChangeModelContent","__export","RemoteCursor_1","RemoteCursorWidget_1","RemoteCursorManager","addCursor","id","color","label","tooltips","widgetId","_nextWidgetId","tooltipDurationMs","tooltipDuration","cursorWidget","RemoteCursorWidget","removeCursor","_cursorWidgets","set","RemoteCursor","remoteCursorWidget","_getCursor","isDisposed","setCursorPosition","setPosition","setCursorOffset","offset","setOffset","showCursor","show","hideCursor","hide","has","get","DEFAULT_OPTIONS","undefined","Map","getId","_delegate","getPosition","delegate","monaco_editor_1","EditorContentManager_1","_domNode","style","display","_editor","_updatePosition","_tooltipNode","setTimeout","_showTooltip","_disposed","removeContentWidget","_scrollListener","_contentManager","_onDisposed","_id","getDomNode","_position","preference","ContentWidgetPositionPreference","EXACT","_offset","getOffsetAt","layoutContentWidget","_updateTooltipPosition","_hideTimer","clearTimeout","_setTooltipVisible","_tooltipDuration","offsetTop","getScrollTop","offsetHeight","top","left","visible","opacity","codeEditor","tooltipEnabled","onDisposed","_onInsert","newOffset","_onReplace","Math","min","_onDelete","lineHeight","editorInstance","getConfiguration","getOption","EditorOption","document","createElement","className","background","height","innerHTML","appendChild","onDidScrollChange","addContentWidget","RemoteSelection_1","RemoteSelectionManager","addSelection","selection","RemoteSelection","_nextClassId","removeSelection","_remoteSelections","remoteSelection","_getSelection","setSelectionOffsets","setOffsets","setSelectionPositions","setPositions","showSelection","hideSelection","_addDynamicStyleElement","css","trim","styleElement","innerText","head","_swapIfNeeded","getStartPosition","_startPosition","getEndPosition","_endPosition","startPosition","endPosition","ordered","_render","_decorations","deltaDecorations","_styleElement","parentElement","removeChild","_className","hoverMessage","_label","value","classId","uniqueClassId","c","d","getter","o","defineProperty","enumerable","r","Symbol","toStringTag","mode","ns","create","key","bind","object","property","moduleId","l"],"mappings":"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"}